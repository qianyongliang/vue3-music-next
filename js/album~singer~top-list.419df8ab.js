(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["album~singer~top-list"],{"5bd1":function(t,e,n){"use strict";n("ef81")},7733:function(t,e,n){},"953a":function(t,e,n){"use strict";var c=n("7a23"),a=n("bba4");e["a"]={name:"wrap-scroll",props:a["a"].props,emits:a["a"].emits,render:function(t){return Object(c["o"])(a["a"],Object(c["q"])({ref:"scrollRef"},t.$props,{onScroll:function(e){t.$emit("scroll",e)}}),{default:Object(c["R"])((function(){return[Object(c["F"])(t.$slots,"default")]}))})},setup:function(){var t=Object(c["D"])(null),e=Object(c["f"])((function(){return t.value.scroll}));return{scrollRef:t,scroll:e}}}},ef81:function(t,e,n){},f4a5:function(t,e,n){"use strict";n("7733")},f82a:function(t,e,n){"use strict";var c=n("1da1"),a=(n("96cf"),n("b64b"),n("b0c0"),n("7a23")),l=function(t){return Object(a["B"])("data-v-20d29ae0"),t=t(),Object(a["z"])(),t},r={class:"music-list"},s=l((function(){return Object(a["k"])("i",{class:"icon-back"},null,-1)})),o=[s],i={class:"title"},u=l((function(){return Object(a["k"])("i",{class:"icon-play"},null,-1)})),b=l((function(){return Object(a["k"])("span",{class:"text"},"随机播放全部",-1)})),j=[u,b],f={class:"song-list-wrapper"};function O(t,e,n,c,l,s){var u=Object(a["G"])("song-list"),b=Object(a["G"])("Scroll"),O=Object(a["H"])("loading");return Object(a["y"])(),Object(a["j"])("div",r,[Object(a["k"])("div",{class:"back",onClick:e[0]||(e[0]=function(){return t.goBack&&t.goBack.apply(t,arguments)})},o),Object(a["k"])("h1",i,Object(a["K"])(t.title),1),Object(a["k"])("div",{class:"bg-image",style:Object(a["t"])(t.bgImageStyle),ref:"bgImage"},[Object(a["k"])("div",{class:"play-btn-wrapper",style:Object(a["t"])(t.playBtnStyle)},[Object(a["S"])(Object(a["k"])("div",{class:"play-btn",onClick:e[1]||(e[1]=function(){return t.random&&t.random.apply(t,arguments)})},j,512),[[a["P"],t.songs.length>0]])],4),Object(a["k"])("div",{class:"filter",style:Object(a["t"])(t.filterStyle)},null,4)],4),Object(a["S"])((Object(a["y"])(),Object(a["h"])(b,{class:"list",style:Object(a["t"])(t.scrollStyle),"probe-type":3,onScroll:t.onScroll},{default:Object(a["R"])((function(){return[Object(a["k"])("div",f,[Object(a["l"])(u,{songs:t.songs,onSelect:t.selectItem,rank:t.rank},null,8,["songs","onSelect","rank"])])]})),_:1},8,["style","onScroll"])),[[O,t.loading]])])}n("99af");var p=n("6c02"),d=n("e11f"),v=n("953a"),g={class:"song-list"},m=["onClick"],k={key:0,class:"rank"},y={class:"content"},S={class:"name"},x={class:"desc"};function h(t,e,n,c,l,r){return Object(a["y"])(),Object(a["j"])("ul",g,[(Object(a["y"])(!0),Object(a["j"])(a["a"],null,Object(a["E"])(t.songs,(function(e,n){return Object(a["y"])(),Object(a["j"])("li",{class:"item",key:e.id,onClick:function(c){return t.selectItem(e,n)}},[t.rank?(Object(a["y"])(),Object(a["j"])("div",k,[Object(a["k"])("span",{class:Object(a["s"])(t.getRankCls(n))},Object(a["K"])(t.getRankText(n)),3)])):Object(a["i"])("",!0),Object(a["k"])("div",y,[Object(a["k"])("h2",S,Object(a["K"])(e.name),1),Object(a["k"])("p",x,Object(a["K"])(t.getDesc(e)),1)])],8,m)})),128))])}var w=Object(a["m"])({name:"song-list",props:{songs:{type:Array,default:function(){return[]}},rank:Boolean},emits:["select"],setup:function(t,e){var n=e.emit,c=function(t,e){n("select",{song:t,index:e})},a=function(t){return t<=2?"icon icon".concat(t):"text"},l=function(t){if(t>2)return t+1},r=function(t){return"".concat(t.singer,"·").concat(t.album)};return{selectItem:c,getRankCls:a,getRankText:l,getDesc:r}}}),I=(n("5bd1"),n("d959")),R=n.n(I);const Y=R()(w,[["render",h],["__scopeId","data-v-1b6963b4"]]);var B=Y,T=40,C=Object(a["m"])({name:"music-list",components:{Scroll:v["a"],SongList:B},props:{songs:{type:Array,default:function(){return[]}},title:String,pic:String,loading:Boolean,rank:Boolean},setup:function(t){var e=Object(p["d"])(),n=Object(a["C"])({scrollY:0,maxTranslateY:0}),c=Object(a["D"])(null),l=Object(a["D"])(0),r=Object(d["a"])("",["selectPlay","randomPlay"]),s=r.selectPlay,o=r.randomPlay;Object(a["w"])((function(){l.value=c.value.clientHeight,n.maxTranslateY=l.value-T}));var i=Object(a["f"])((function(){return{top:"".concat(l.value,"px"),bottom:"0px"}})),u=Object(a["f"])((function(){var e=n.scrollY,c="70%",a="0",r=0,s=1,o=0;return e>n.maxTranslateY&&(c="0",a="".concat(T,"px"),r=1,o=10),e<0&&(s=1+Math.abs(e/l.value)),{paddingTop:c,height:a,zIndex:o,backgroundImage:"url(".concat(t.pic,")"),transform:"scale(".concat(s,")translateZ(").concat(r,"px)")}})),b=Object(a["f"])((function(){var t=n.scrollY,e=0;return t>=0&&(e=20*Math.min(n.maxTranslateY/l.value,t/l.value)),{backdropFilter:"blur(".concat(e,"px)")}})),j=Object(a["f"])((function(){var t="";return n.scrollY>=n.maxTranslateY&&(t="none"),{display:t}})),f=function(){e.back()},O=function(){o(t.songs)},v=function(t){n.scrollY=-t.y},g=function(e){var n=e.index;s({list:t.songs,index:n})};return{bgImageStyle:u,playBtnStyle:j,filterStyle:b,scrollStyle:i,goBack:f,random:O,onScroll:v,selectItem:g,bgImage:c}}});n("f4a5");const D=R()(C,[["render",O],["__scopeId","data-v-20d29ae0"]]);var P=D,_=n("081a"),K=n("eea1"),L=function(t,e,n){return{name:t,components:{MusicList:P},props:{data:{type:Object,default:{}}},setup:function(t){var l=Object(p["c"])(),r=Object(p["d"])(),s=Object(a["f"])((function(){var n=null,c=Object(a["L"])(t.data);if(c&&Object.keys(c).length)n=c;else{var r=K["a"].session.get(e);((null===r||void 0===r?void 0:r.mid)||(null===r||void 0===r?void 0:r.id)+"")===l.params.id&&(n=r)}return n})),o=Object(a["f"])((function(){var t=s.value;return null===t||void 0===t?void 0:t.pic})),i=Object(a["f"])((function(){var t=s.value;return(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.title)})),u=Object(a["D"])(!0),b=Object(a["D"])([]),j=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,c,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=s.value,e||(c=l.matched[0].path,r.push({path:c})),t.next=4,n(e);case 4:return a=t.sent,t.next=7,Object(_["b"])(a.songs);case 7:b.value=t.sent,u.value=!1;case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return j(),{pic:o,title:i,songs:b,loading:u}}}};e["a"]=L}}]);
//# sourceMappingURL=album~singer~top-list.419df8ab.js.map