{"version":3,"sources":["webpack:///./src/components/base/song-list/song-list.vue?e1f5","webpack:///./src/components/wrap-scroll/index.ts","webpack:///./src/components/music-list/music-list.vue?1b80","webpack:///./src/components/music-list/music-list.vue?e81b","webpack:///./src/components/base/song-list/song-list.vue?aaa2","webpack:///./src/components/base/song-list/song-list.vue","webpack:///./src/components/base/song-list/song-list.vue?4f4b","webpack:///./src/components/music-list/music-list.vue","webpack:///./src/components/music-list/music-list.vue?c1b7","webpack:///./src/assets/ts/create-detail-component.ts"],"names":["name","props","Scroll","emits","render","ctx","h","mergeProps","ref","$props","onScroll","pos","$emit","default","withCtx","renderSlot","$slots","setup","scrollRef","scroll","computed","value","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_ctx","_cache","$setup","$data","$options","_component_song_list","_resolveComponent","_component_Scroll","_directive_loading","_resolveDirective","_openBlock","_createElementBlock","onClick","goBack","_toDisplayString","title","style","_normalizeStyle","bgImageStyle","playBtnStyle","_withDirectives","random","_vShow","songs","length","filterStyle","_createBlock","scrollStyle","_withCtx","_createVNode","onSelect","selectItem","rank","_","loading","key","_Fragment","_renderList","song","index","id","$event","_normalizeClass","getRankCls","getRankText","_createCommentVNode","getDesc","defineComponent","type","Array","Boolean","emit","singer","album","__exports__","RESERVED_HEIGHT","components","SongList","String","pic","router","useRouter","state","reactive","scrollY","maxTranslateY","bgImage","imageHeight","useActions","selectPlay","randomPlay","onMounted","clientHeight","top","bottom","paddingTop","height","translateZ","scale","zIndex","Math","abs","backgroundImage","transform","blur","min","backdropFilter","display","back","y","list","createDetailComponent","fetch","MusicList","data","Object","route","useRoute","computedData","ret","toRaw","keys","cached","storage","session","get","mid","params","init","path","matched","push","result","processSongs"],"mappings":"yHAAA,W,2DCAA,4BAIe,QACbA,KAAM,cACNC,MAAOC,OAAOD,MACdE,MAAOD,OAAOC,MACdC,OAJa,SAILC,GAEN,OAAOC,eACLJ,OACAK,eACE,CACEC,IAAK,aAEPH,EAAII,OACJ,CACEC,SAAU,SAACC,GAETN,EAAIO,MAAM,SAAUD,MAI1B,CACEE,QAASC,gBAAQ,WAEf,MAAO,CAACC,eAAWV,EAAIW,OAAQ,kBAKvCC,MA5Ba,WA6BX,IAAMC,EAAYV,eAAS,MACrBW,EAASC,gBAAS,WACtB,OAAOF,EAAUG,MAAMF,UAGzB,MAAO,CACLD,YACAC,a,yDCxCN,W,8FCEMG,EAAe,SAAAC,GAAC,OAAKC,eAAa,mBAAmBD,EAAEA,IAAIE,iBAAcF,GACzEG,EAAa,CAAEC,MAAO,cACtBC,EAA2BN,GAAa,kBAAmBO,eAAoB,IAAK,CAAEF,MAAO,aAAe,MAAO,MACnHG,EAAa,CACjBF,GAEIG,EAAa,CAAEJ,MAAO,SACtBK,EAA2BV,GAAa,kBAAmBO,eAAoB,IAAK,CAAEF,MAAO,aAAe,MAAO,MACnHM,EAA2BX,GAAa,kBAAmBO,eAAoB,OAAQ,CAAEF,MAAO,QAAU,UAAW,MACrHO,EAAa,CACjBF,EACAC,GAEIE,EAAa,CAAER,MAAO,qBAEtB,SAAUvB,EAAOgC,EAAUC,EAAY5B,EAAY6B,EAAYC,EAAWC,GAC9E,IAAMC,EAAuBC,eAAkB,aACzCC,EAAoBD,eAAkB,UACtCE,EAAqBC,eAAkB,WAE7C,OAAQC,iBAAcC,eAAoB,MAAOrB,EAAY,CAC3DG,eAAoB,MAAO,CACzBF,MAAO,OACPqB,QAASX,EAAO,KAAOA,EAAO,GAEpC,kBAAcD,EAAKa,QAAUb,EAAKa,OAAL,MAAAb,EAAI,cAC1BN,GACHD,eAAoB,KAAME,EAAYmB,eAAiBd,EAAKe,OAAQ,GACpEtB,eAAoB,MAAO,CACzBF,MAAO,WACPyB,MAAOC,eAAgBjB,EAAKkB,cAC5B9C,IAAK,WACJ,CACDqB,eAAoB,MAAO,CACzBF,MAAO,mBACPyB,MAAOC,eAAgBjB,EAAKmB,eAC3B,CACDC,eAAgB3B,eAAoB,MAAO,CACzCF,MAAO,WACPqB,QAASX,EAAO,KAAOA,EAAO,GAExC,kBAAcD,EAAKqB,QAAUrB,EAAKqB,OAAL,MAAArB,EAAI,cACtBF,EAAY,KAAM,CACnB,CAACwB,OAAQtB,EAAKuB,MAAMC,OAAS,MAE9B,GACH/B,eAAoB,MAAO,CACzBF,MAAO,SACPyB,MAAOC,eAAgBjB,EAAKyB,cAC3B,KAAM,IACR,GACHL,gBAAiBV,iBAAcgB,eAAanB,EAAmB,CAC7DhB,MAAO,OACPyB,MAAOC,eAAgBjB,EAAK2B,aAC5B,aAAc,EACdrD,SAAU0B,EAAK1B,UACd,CACDG,QAASmD,gBAAS,iBAAM,CACtBnC,eAAoB,MAAOM,EAAY,CACrC8B,eAAaxB,EAAsB,CACjCkB,MAAOvB,EAAKuB,MACZO,SAAU9B,EAAK+B,WACfC,KAAMhC,EAAKgC,MACV,KAAM,EAAG,CAAC,QAAS,WAAY,eAGtCC,EAAG,GACF,EAAG,CAAC,QAAS,cAAe,CAC7B,CAACzB,EAAoBR,EAAKkC,a,kDCnE1B5C,EAAa,CAAEC,MAAO,aACtBC,EAAa,CAAC,WACdE,EAAa,CACjByC,IAAK,EACL5C,MAAO,QAEHI,EAAa,CAAEJ,MAAO,WACtBK,EAAa,CAAEL,MAAO,QACtBM,EAAa,CAAEN,MAAO,QAEtB,SAAUvB,EAAOgC,EAAUC,EAAY5B,EAAY6B,EAAYC,EAAWC,GAC9E,OAAQM,iBAAcC,eAAoB,KAAMrB,EAAY,EACzDoB,gBAAW,GAAOC,eAAoByB,OAAW,KAAMC,eAAYrC,EAAKuB,OAAO,SAACe,EAAMC,GACrF,OAAQ7B,iBAAcC,eAAoB,KAAM,CAC9CpB,MAAO,OACP4C,IAAKG,EAAKE,GACV5B,QAAS,SAAC6B,GAAD,OAAkBzC,EAAK+B,WAAWO,EAAMC,KAChD,CACAvC,EAAKgC,MACDtB,iBAAcC,eAAoB,MAAOjB,EAAY,CACpDD,eAAoB,OAAQ,CAC1BF,MAAOmD,eAAgB1C,EAAK2C,WAAWJ,KACtCzB,eAAiBd,EAAK4C,YAAYL,IAAS,MAEhDM,eAAoB,IAAI,GAC5BpD,eAAoB,MAAOE,EAAY,CACrCF,eAAoB,KAAMG,EAAYkB,eAAiBwB,EAAK1E,MAAO,GACnE6B,eAAoB,IAAKI,EAAYiB,eAAiBd,EAAK8C,QAAQR,IAAQ,MAE5E,EAAG9C,MACJ,QC7BOuD,qBAAgB,CAC7BnF,KAAM,YACNC,MAAO,CACL0D,MAAO,CACLyB,KAAMC,MACNxE,QAAS,iBAAM,KAEjBuD,KAAMkB,SAERnF,MAAO,CAAC,UACRc,MAV6B,SAUtBhB,EAVsB,GAUP,IAANsF,EAAM,EAANA,KAERpB,EAAa,SAACO,EAAYC,GAC9BY,EAAK,SAAU,CAAEb,OAAMC,WAGnBI,EAAa,SAACJ,GAClB,OAAOA,GAAS,EAAT,mBAAyBA,GAAU,QAGtCK,EAAc,SAACL,GACnB,GAAIA,EAAQ,EAAG,OAAOA,EAAQ,GAG1BO,EAAU,SAACR,GACf,gBAAUA,EAAKc,OAAf,YAAyBd,EAAKe,QAGhC,MAAO,CACLtB,aACAY,aACAC,cACAE,c,iCC7BN,MAAMQ,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAE1E,QCDTC,EAAkB,GAETR,iBAAgB,CAC7BnF,KAAM,aACN4F,WAAY,CACV1F,cACA2F,YAEF5F,MAAO,CACL0D,MAAO,CACLyB,KAAMC,MACNxE,QAAS,iBAAM,KAEjBsC,MAAO2C,OACPC,IAAKD,OACLxB,QAASgB,QACTlB,KAAMkB,SAERrE,MAhB6B,SAgBtBhB,GACL,IAAM+F,EAASC,iBACTC,EAAQC,eAAS,CACrBC,QAAS,EACTC,cAAe,IAEXC,EAAU9F,eAAS,MACnB+F,EAAc/F,eAAI,GACxB,EAAmCgG,eAAW,GAAI,CAChD,aACA,eAFMC,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,WAKpBC,gBAAU,WACRJ,EAAYlF,MAAQiF,EAAQjF,MAAMuF,aAClCV,EAAMG,cAAgBE,EAAYlF,MAAQsE,KAG5C,IAAM5B,EAAc3C,gBAAS,WAC3B,MAAO,CACLyF,IAAK,GAAF,OAAKN,EAAYlF,MAAjB,MACHyF,OAAQ,UAINxD,EAAelC,gBAAS,WAC5B,IAAMgF,EAAUF,EAAME,QAClBW,EAAa,MACbC,EAAS,IAETC,EAAa,EAEbC,EAAQ,EACRC,EAAS,EAab,OAXIf,EAAUF,EAAMG,gBAClBU,EAAa,IAEbC,EAAS,GAAH,OAAMrB,EAAN,MACNsB,EAAa,EACbE,EAAS,IAGPf,EAAU,IACZc,EAAQ,EAAIE,KAAKC,IAAIjB,EAAUG,EAAYlF,QAEtC,CACL0F,aACAC,SACAG,SACAG,gBAAiB,OAAF,OAASrH,EAAM8F,IAAf,KACfwB,UAAW,SAAF,OAAWL,EAAX,uBAA+BD,EAA/B,WAIPpD,EAAczC,gBAAS,WAC3B,IAAMgF,EAAUF,EAAME,QAClBoB,EAAO,EASX,OAPIpB,GAAW,IACboB,EAIM,GAHJJ,KAAKK,IACHvB,EAAMG,cAAgBE,EAAYlF,MAClC+E,EAAUG,EAAYlF,QAGrB,CACLqG,eAAgB,QAAF,OAAUF,EAAV,WAIZjE,EAAenC,gBAAS,WAC5B,IAAIuG,EAAU,GAId,OAHIzB,EAAME,SAAWF,EAAMG,gBACzBsB,EAAU,QAEL,CACLA,cAIE1E,EAAS,WACb+C,EAAO4B,QAGHnE,EAAS,WACbiD,EAAWzG,EAAM0D,QAGbjD,EAAW,SAACC,GAChBuF,EAAME,SAAWzF,EAAIkH,GAGjB1D,EAAa,SAAC,GAAgC,IAA9BQ,EAA8B,EAA9BA,MACpB8B,EAAW,CACTqB,KAAM7H,EAAM0D,MACZgB,MAAOA,KAGX,MAAO,CACLrB,eACAC,eACAM,cACAE,cACAd,SACAQ,SACA/C,WACAyD,aACAmC,c,UC/HN,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASlG,GAAQ,CAAC,YAAY,qBAE1E,Q,wBCHT2H,EAAwB,SAAC/H,EAAcuE,EAAayD,GACxD,MAAO,CACLhI,OACA4F,WAAY,CAAEqC,aACdhI,MAAO,CACLiI,KAAM,CACJ9C,KAAM+C,OACNtH,QAAS,KAGbI,MATK,SASEhB,GACL,IAAMmI,EAAQC,iBACRrC,EAASC,iBAETqC,EAAelH,gBAAS,WAC5B,IAAImH,EAAM,KACJL,EAAOM,eAAMvI,EAAMiI,MACzB,GAAIA,GAAQC,OAAOM,KAAKP,GAAMtE,OAC5B2E,EAAML,MACD,CACL,IAAMQ,EAASC,OAAQC,QAAQC,IAAItE,KACxB,OAANmE,QAAM,IAANA,OAAA,EAAAA,EAAQI,OAAa,OAANJ,QAAM,IAANA,OAAA,EAAAA,EAAQ9D,IAAK,MAAQwD,EAAMW,OAAOnE,KACpD2D,EAAMG,GAGV,OAAOH,KAGHxC,EAAM3E,gBAAS,WACnB,IAAM8G,EAAOI,EAAajH,MAC1B,cAAO6G,QAAP,IAAOA,OAAP,EAAOA,EAAMnC,OAGT5C,EAAQ/B,gBAAS,WACrB,IAAM8G,EAAOI,EAAajH,MAC1B,OAAW,OAAJ6G,QAAI,IAAJA,OAAA,EAAAA,EAAMlI,QAAN,OAAckI,QAAd,IAAcA,OAAd,EAAcA,EAAM/E,UAEvBmB,EAAU9D,gBAAI,GACdmD,EAAQnD,eAAW,IACnBwI,EAAI,yDAAG,+GACLd,EAAOI,EAAajH,MACrB6G,IAEGe,EAAOb,EAAMc,QAAQ,GAAGD,KAC9BjD,EAAOmD,KAAK,CACVF,UANO,SAUUjB,EAAME,GAVhB,cAULkB,EAVK,gBAWSC,eAAaD,EAAOzF,OAX7B,OAWXA,EAAMtC,MAXK,OAYXiD,EAAQjD,OAAQ,EAZL,2CAAH,qDAeV,OADA2H,IACO,CACLjD,MACA5C,QACAQ,QACAW,cAMOyD","file":"js/album~singer~top-list.419df8ab.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./song-list.vue?vue&type=style&index=0&id=1b6963b4&lang=scss&scoped=true\"","// 对 Scroll 组件的扩展\nimport { h, mergeProps, renderSlot, withCtx, ref, computed } from 'vue'\nimport Scroll from '@/components/base/scroll/scroll.vue'\n\nexport default {\n  name: 'wrap-scroll',\n  props: Scroll.props,\n  emits: Scroll.emits,\n  render (ctx: any) {\n    // mergeProps将包含 VNode prop 的多个对象合并为一个单独的对象。其返回的是一个新创建的对象，而作为参数传递的对象则不会被修改\n    return h(\n      Scroll,\n      mergeProps(\n        {\n          ref: 'scrollRef'\n        },\n        ctx.$props, // 添加方法，props 本来就是一个对象，所以不用大括号括起来\n        {\n          onScroll: (pos: { x: number; y: number }) => {\n            // 创建监听函数，监听滚动事件\n            ctx.$emit('scroll', pos)\n          }\n        }\n      ),\n      {\n        default: withCtx(() => {\n          // 此处用法暂未明白，看视频了解详情后补充\n          return [renderSlot(ctx.$slots, 'default')]\n        })\n      }\n    )\n  },\n  setup () {\n    const scrollRef = ref<any>(null)\n    const scroll = computed(() => {\n      return scrollRef.value.scroll\n    })\n\n    return {\n      scrollRef,\n      scroll\n    }\n  }\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./music-list.vue?vue&type=style&index=0&id=20d29ae0&lang=scss&scoped=true\"","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vShow as _vShow, withDirectives as _withDirectives, normalizeStyle as _normalizeStyle, resolveComponent as _resolveComponent, createVNode as _createVNode, resolveDirective as _resolveDirective, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-20d29ae0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"music-list\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"icon-back\" }, null, -1))\nconst _hoisted_3 = [\n  _hoisted_2\n]\nconst _hoisted_4 = { class: \"title\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"icon-play\" }, null, -1))\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"text\" }, \"随机播放全部\", -1))\nconst _hoisted_7 = [\n  _hoisted_5,\n  _hoisted_6\n]\nconst _hoisted_8 = { class: \"song-list-wrapper\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_song_list = _resolveComponent(\"song-list\")!\n  const _component_Scroll = _resolveComponent(\"Scroll\")!\n  const _directive_loading = _resolveDirective(\"loading\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"back\",\n      onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.goBack && _ctx.goBack(...args)))\n    }, _hoisted_3),\n    _createElementVNode(\"h1\", _hoisted_4, _toDisplayString(_ctx.title), 1),\n    _createElementVNode(\"div\", {\n      class: \"bg-image\",\n      style: _normalizeStyle(_ctx.bgImageStyle),\n      ref: \"bgImage\"\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"play-btn-wrapper\",\n        style: _normalizeStyle(_ctx.playBtnStyle)\n      }, [\n        _withDirectives(_createElementVNode(\"div\", {\n          class: \"play-btn\",\n          onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.random && _ctx.random(...args)))\n        }, _hoisted_7, 512), [\n          [_vShow, _ctx.songs.length > 0]\n        ])\n      ], 4),\n      _createElementVNode(\"div\", {\n        class: \"filter\",\n        style: _normalizeStyle(_ctx.filterStyle)\n      }, null, 4)\n    ], 4),\n    _withDirectives((_openBlock(), _createBlock(_component_Scroll, {\n      class: \"list\",\n      style: _normalizeStyle(_ctx.scrollStyle),\n      \"probe-type\": 3,\n      onScroll: _ctx.onScroll\n    }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createVNode(_component_song_list, {\n            songs: _ctx.songs,\n            onSelect: _ctx.selectItem,\n            rank: _ctx.rank\n          }, null, 8, [\"songs\", \"onSelect\", \"rank\"])\n        ])\n      ]),\n      _: 1\n    }, 8, [\"style\", \"onScroll\"])), [\n      [_directive_loading, _ctx.loading]\n    ])\n  ]))\n}","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1b6963b4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"song-list\" }\nconst _hoisted_2 = [\"onClick\"]\nconst _hoisted_3 = {\n  key: 0,\n  class: \"rank\"\n}\nconst _hoisted_4 = { class: \"content\" }\nconst _hoisted_5 = { class: \"name\" }\nconst _hoisted_6 = { class: \"desc\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"ul\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.songs, (song, index) => {\n      return (_openBlock(), _createElementBlock(\"li\", {\n        class: \"item\",\n        key: song.id,\n        onClick: ($event: any) => (_ctx.selectItem(song, index))\n      }, [\n        (_ctx.rank)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n              _createElementVNode(\"span\", {\n                class: _normalizeClass(_ctx.getRankCls(index))\n              }, _toDisplayString(_ctx.getRankText(index)), 3)\n            ]))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"h2\", _hoisted_5, _toDisplayString(song.name), 1),\n          _createElementVNode(\"p\", _hoisted_6, _toDisplayString(_ctx.getDesc(song)), 1)\n        ])\n      ], 8, _hoisted_2))\n    }), 128))\n  ]))\n}","\nimport { defineComponent, PropType } from 'vue'\nimport { Song } from '@/service/interface'\n\nexport default defineComponent({\n  name: 'song-list',\n  props: {\n    songs: {\n      type: Array as PropType<Song[]>,\n      default: () => []\n    },\n    rank: Boolean\n  },\n  emits: ['select'],\n  setup (props, { emit }) {\n    // 点击歌曲\n    const selectItem = (song: Song, index: number) => {\n      emit('select', { song, index })\n    }\n    // 排名class样式，前三为奖杯\n    const getRankCls = (index: number) => {\n      return index <= 2 ? `icon icon${index}` : 'text'\n    }\n    // 排名\n    const getRankText = (index: number) => {\n      if (index > 2) return index + 1\n    }\n    // 描述：歌手·专辑\n    const getDesc = (song: Song) => {\n      return `${song.singer}·${song.album}`\n    }\n\n    return {\n      selectItem,\n      getRankCls,\n      getRankText,\n      getDesc\n    }\n  }\n})\n","import { render } from \"./song-list.vue?vue&type=template&id=1b6963b4&scoped=true&ts=true\"\nimport script from \"./song-list.vue?vue&type=script&lang=ts\"\nexport * from \"./song-list.vue?vue&type=script&lang=ts\"\n\nimport \"./song-list.vue?vue&type=style&index=0&id=1b6963b4&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/v_ylqian/Desktop/vue3/vue3-music-next/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1b6963b4\"]])\n\nexport default __exports__","\nimport { defineComponent, ref, PropType, reactive, computed, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useActions } from '@/hooks/useVuexHooks'\nimport { Song } from '@/service/interface'\nimport Scroll from '@/components/wrap-scroll/index'\nimport SongList from '@/components/base/song-list/song-list.vue'\n\nconst RESERVED_HEIGHT = 40\n\nexport default defineComponent({\n  name: 'music-list',\n  components: {\n    Scroll,\n    SongList\n  },\n  props: {\n    songs: {\n      type: Array as PropType<Song[]>,\n      default: () => []\n    },\n    title: String,\n    pic: String,\n    loading: Boolean,\n    rank: Boolean\n  },\n  setup (props) {\n    const router = useRouter()\n    const state = reactive({\n      scrollY: 0,\n      maxTranslateY: 0 // 最大偏移高度\n    })\n    const bgImage = ref<any>(null)\n    const imageHeight = ref(0)\n    const { selectPlay, randomPlay } = useActions('', [\n      'selectPlay',\n      'randomPlay'\n    ])\n\n    onMounted(() => {\n      imageHeight.value = bgImage.value.clientHeight\n      state.maxTranslateY = imageHeight.value - RESERVED_HEIGHT\n    })\n    // 滚动样式\n    const scrollStyle = computed(() => {\n      return {\n        top: `${imageHeight.value}px`,\n        bottom: '0px'\n      }\n    })\n    // 图片样式设置\n    const bgImageStyle = computed(() => {\n      const scrollY = state.scrollY\n      let paddingTop = '70%'\n      let height = '0'\n      // translateZ 值越大，图像离你越近，值越小，图像离你越远\n      let translateZ = 0\n      // 图片缩放\n      let scale = 1\n      let zIndex = 0\n\n      if (scrollY > state.maxTranslateY) {\n        paddingTop = '0'\n        // 当滚动高度大于最大偏移量时，固定图片高度为标题高度\n        height = `${RESERVED_HEIGHT}px`\n        translateZ = 1\n        zIndex = 10\n      }\n      // 下拉时，根据偏移量放大图片\n      if (scrollY < 0) {\n        scale = 1 + Math.abs(scrollY / imageHeight.value)\n      }\n      return {\n        paddingTop,\n        height,\n        zIndex,\n        backgroundImage: `url(${props.pic})`,\n        transform: `scale(${scale})translateZ(${translateZ}px)`\n      }\n    })\n    // 背景过滤器：毛玻璃模糊效果\n    const filterStyle = computed(() => {\n      const scrollY = state.scrollY\n      let blur = 0\n      // 当没达到最大偏移量时，使用偏移量计算，当达到或超过时，使用最大偏移量计算\n      if (scrollY >= 0) {\n        blur =\n          Math.min(\n            state.maxTranslateY / imageHeight.value,\n            scrollY / imageHeight.value\n          ) * 20\n      }\n      return {\n        backdropFilter: `blur(${blur}px)`\n      }\n    })\n    // 播放按钮样式\n    const playBtnStyle = computed(() => {\n      let display = ''\n      if (state.scrollY >= state.maxTranslateY) {\n        display = 'none'\n      }\n      return {\n        display\n      }\n    })\n    // 返回\n    const goBack = () => {\n      router.back()\n    }\n    // 随机播放\n    const random = () => {\n      randomPlay(props.songs)\n    }\n    // 滚动\n    const onScroll = (pos: { x: number; y: number }) => {\n      state.scrollY = -pos.y\n    }\n    // 点击播放歌曲\n    const selectItem = ({ index }: { index: number }) => {\n      selectPlay({\n        list: props.songs,\n        index: index\n      })\n    }\n    return {\n      bgImageStyle,\n      playBtnStyle,\n      filterStyle,\n      scrollStyle,\n      goBack,\n      random,\n      onScroll,\n      selectItem,\n      bgImage\n    }\n  }\n})\n","import { render } from \"./music-list.vue?vue&type=template&id=20d29ae0&scoped=true&ts=true\"\nimport script from \"./music-list.vue?vue&type=script&lang=ts\"\nexport * from \"./music-list.vue?vue&type=script&lang=ts\"\n\nimport \"./music-list.vue?vue&type=style&index=0&id=20d29ae0&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/v_ylqian/Desktop/vue3/vue3-music-next/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-20d29ae0\"]])\n\nexport default __exports__","import MusicList from '@/components/music-list/music-list.vue'\nimport { computed, ref, toRaw } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { processSongs } from '@/service/song'\nimport storage from 'good-storage'\n\nconst createDetailComponent = (name: string, key: string, fetch: any) => {\n  return {\n    name,\n    components: { MusicList },\n    props: {\n      data: {\n        type: Object,\n        default: {}\n      }\n    },\n    setup (props: any) {\n      const route = useRoute()\n      const router = useRouter()\n      // 缓存的数据，歌手、专辑\n      const computedData = computed(() => {\n        let ret = null\n        const data = toRaw(props.data)\n        if (data && Object.keys(data).length) {\n          ret = data\n        } else {\n          const cached = storage.session.get(key)\n          if ((cached?.mid || cached?.id + '') === route.params.id) {\n            ret = cached\n          }\n        }\n        return ret\n      })\n      // 背景大图\n      const pic = computed(() => {\n        const data = computedData.value\n        return data?.pic\n      })\n      // 歌手名或专辑名\n      const title = computed(() => {\n        const data = computedData.value\n        return data?.name || data?.title\n      })\n      const loading = ref(true)\n      const songs = ref<any[]>([])\n      const init = async () => {\n        const data = computedData.value\n        if (!data) {\n          // 没有id返回上一页\n          const path = route.matched[0].path\n          router.push({\n            path\n          })\n        }\n        // 调用接口\n        const result = await fetch(data)\n        songs.value = await processSongs(result.songs)\n        loading.value = false\n      }\n      init()\n      return {\n        pic,\n        title,\n        songs,\n        loading\n      }\n    }\n  }\n}\n\nexport default createDetailComponent\n"],"sourceRoot":""}